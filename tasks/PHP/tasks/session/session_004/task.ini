[Info]

Variant=0

Text="<p>Написать функцию authentication($__password), которая проверяет, то пароль $__password введенный пользователем является корректным.
Пароли зашифрованы с помощью функции md5. Если пароль не проходит проверку, то счетчик ошибок данного пользователя инкрементируется. Функция возвращает
число таких ошибок пользователя</p>"

Difficulty=1

Topic="Задачи на сеансы"
TopicId=254

Author="zexel"

Solver="PHP"

[Solution]
ExemplaryQuery='function authentication($__password) {
	$errorFile = "countError.txt";
	$passwordsFile = "passwords.txt";
	touch($errorFile);
	touch($passwordsFile);
	
	$countErrorArr = unserialize(file_get_contents($errorFile));
	$passwordsArr = unserialize(file_get_contents($passwordsFile));
	
	if(isset($passwordsArr[session_id()]) !== false && md5($__password) != $passwordsArr[session_id()] || isset($passwordsArr[session_id()]) === false) {
		$countErrorArr[session_id()] = isset($countErrorArr[session_id()]) !== false ? $countErrorArr[session_id()] + 1 : 1;
	}
	
	file_put_contents($errorFile, serialize($countErrorArr));
	
	return $countErrorArr[session_id()];
}'



[DataBase]
TaskId=2369
GroupTaskId=1518
